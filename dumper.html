<html>
  <head>
    <title>Rock-Scissors-Paper</title>
    <script src="script/leap.js"></script>
    <script>
      var pausedFrame = null;
      var latestFrame = null;

      // pause the Frame
      window.onkeypress = function(e) {
        if (e.charCode == 32) {
          if (pausedFrame == null) {
            pausedFrame = latestFrame;
          } else {
            pausedFrame = null;
          }
        }
      };

      // Controller Listener
      var controller = new Leap.Controller({enableGestures: true});

      Leap.loop(function(frame) {
          latestFrame = frame;
          var fingerCount = (pausedFrame || latestFrame).pointables.length;
          var symbol = null;

          switch(fingerCount) {
              case 0:
                  symbol = "Rock";
                  break;
              case 1:
              case 2:
              case 3:
                  symbol = "Scissors";
                  break;
              default:
                  symbol = "Paper";
                  break;
          };


          // display to screen
          document.getElementById('out').innerHTML = (pausedFrame ? "<p><b>PAUSED</b></p>" : "") + "<div>"+symbol+"</div>";
      });

      controller.on('ready', function() {
          console.log("ready");
      });
      controller.on('connect', function() {
          console.log("connect");

      });
      controller.on('disconnect', function() {
          console.log("disconnect");
      });
      controller.on('focus', function() {
          console.log("focus");
      });
      controller.on('blur', function() {
          console.log("blur");
      });
      controller.on('deviceConnected', function() {
          console.log("deviceConnected");
      });
      controller.on('deviceDisconnected', function() {
          console.log("deviceDisconnected");
      });
    </script>
  </head>
  <body>
    <h2>What is Held Up:</h2>
    <div id="out"></div>
    <div id="log"></div>
  </body>
</html>